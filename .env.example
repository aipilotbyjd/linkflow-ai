# LinkFlow AI Environment Configuration Example
# Copy this file to .env and update with your values

# Environment
ENVIRONMENT=development
LOG_LEVEL=debug
VERSION=1.0.0

# HTTP Server
HTTP_PORT=8000
HTTP_READ_TIMEOUT=30s
HTTP_WRITE_TIMEOUT=30s
HTTP_IDLE_TIMEOUT=120s

# Database
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=linkflow
DATABASE_USER=linkflow
DATABASE_PASSWORD=changeme
DATABASE_SSL_MODE=disable
DATABASE_MAX_CONNECTIONS=25
DATABASE_MAX_IDLE_CONNECTIONS=25
DATABASE_CONNECTION_MAX_LIFETIME=5m

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10

# Kafka
KAFKA_BROKERS=localhost:9092
KAFKA_CONSUMER_GROUP=linkflow
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true

# Elasticsearch
ELASTICSEARCH_URLS=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_INDEX_PREFIX=linkflow

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=168h

# OAuth2 Providers (Optional)
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=

# Storage
STORAGE_TYPE=local # local, s3, gcs
STORAGE_BASE_PATH=/tmp/linkflow-storage
S3_BUCKET=
S3_REGION=us-east-1
S3_ACCESS_KEY=
S3_SECRET_KEY=

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@linkflow.ai

# SMS Configuration (Twilio)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# Slack Integration
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=
SLACK_SIGNING_SECRET=

# Monitoring
PROMETHEUS_ENABLED=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_SAMPLER_TYPE=const
JAEGER_SAMPLER_PARAM=1

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=200

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Request-ID
CORS_MAX_AGE=86400

# Feature Flags
FEATURE_WORKFLOW_VERSIONING=true
FEATURE_MULTI_TENANCY=true
FEATURE_AUDIT_LOGGING=true
FEATURE_WEBHOOKS=true

# Security
ENCRYPTION_KEY=your-32-byte-encryption-key-here
BCRYPT_COST=10
SESSION_TIMEOUT=30m
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=15m

# Admin
ADMIN_EMAIL=admin@linkflow.ai
ADMIN_PASSWORD=changeme
ADMIN_API_KEY=

# Service Discovery
SERVICE_AUTH_URL=http://auth:8001
SERVICE_USER_URL=http://user:8002
SERVICE_EXECUTION_URL=http://execution:8003
SERVICE_WORKFLOW_URL=http://workflow:8004
SERVICE_NODE_URL=http://node:8005
SERVICE_TENANT_URL=http://tenant:8006
SERVICE_EXECUTOR_URL=http://executor:8007
SERVICE_WEBHOOK_URL=http://webhook:8008
SERVICE_SCHEDULE_URL=http://schedule:8009
SERVICE_CREDENTIAL_URL=http://credential:8010
SERVICE_NOTIFICATION_URL=http://notification:8011
SERVICE_INTEGRATION_URL=http://integration:8012
SERVICE_ANALYTICS_URL=http://analytics:8013
SERVICE_SEARCH_URL=http://search:8014
SERVICE_STORAGE_URL=http://storage:8015

# Tenant Limits (defaults)
TENANT_MAX_WORKFLOWS=10
TENANT_MAX_EXECUTIONS_PER_DAY=1000
TENANT_MAX_NODES_PER_WORKFLOW=50
TENANT_MAX_CREDENTIALS=20
TENANT_MAX_TEAM_MEMBERS=5
TENANT_MAX_STORAGE_MB=1000

# Executor Settings
EXECUTOR_TIMEOUT_SECONDS=300
EXECUTOR_MAX_RETRIES=3
EXECUTOR_WORKER_POOL_SIZE=10
EXECUTOR_MAX_CONCURRENT_TASKS=100

# API Gateway (Kong)
KONG_ADMIN_URL=http://kong:8001
KONG_PROXY_URL=http://kong:8000

# Health Check
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups

# Webhook Configuration
WEBHOOK_TIMEOUT=30s
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=60s

# Search Configuration
SEARCH_MAX_RESULTS=100
SEARCH_DEFAULT_LIMIT=20

# Analytics Configuration
ANALYTICS_RETENTION_DAYS=90
ANALYTICS_AGGREGATION_INTERVAL=1h
